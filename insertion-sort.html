<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" type="image/png" sizes="32x32" href="assets/dsa1.png">
<link rel="apple-touch-icon" href="assets/apple-touch-icon.png">
<meta name="theme-color" content="#2563eb">
<title>Insertion Sort Visualizer</title>
<style>
:root {
  --bg:#f6f7fb; --accent:#2563eb; --compare:#facc15; --swap:#2563eb; --sorted:#10b981; --card:#fff;
}
*{box-sizing:border-box}
body{margin:0;font-family:Arial, sans-serif;background:var(--bg);color:#0f172a}
header{display:flex;align-items:center;gap:12px;background:var(--accent);color:#fff;padding:12px 16px;flex-wrap:wrap}
header .home-btn{background:transparent;border:1px solid rgba(255,255,255,0.2);color:#fff;padding:6px 10px;border-radius:8px;cursor:pointer}
header h1{margin:0;font-size:18px;font-weight:600;flex:1}
.wrap{max-width:1000px;margin:18px auto;padding:12px}
.tab-buttons{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px}
.tab-buttons button{padding:8px 12px;border-radius:8px;border:1px solid #e6edf8;background:#fff;cursor:pointer;font-weight:600}
.tab-buttons button.active{background:var(--accent);color:#fff;border-color:var(--accent)}
section.tab{display:none;background:var(--card);padding:14px;border-radius:10px;box-shadow:0 6px 18px rgba(12,15,30,0.06)}
section.tab.active{display:block}
.blocks-card{padding:12px;margin-top:12px}
#blocks{display:flex;align-items:flex-end;gap:8px;min-height:180px;height:220px;justify-content:center;flex-wrap:wrap;padding:12px;background:#fbfdff;border-radius:8px;border:1px solid #e6eef8}
.block{width:56px;height:56px;background:#c7d2fe;color:#07103b;font-weight:700;border-radius:8px;display:flex;align-items:center;justify-content:center;transition:all 260ms ease;box-shadow:0 6px 12px rgba(15,23,42,0.06)}
.block.compare{background:var(--compare);color:#111}
.block.swap{background:var(--swap);color:#fff}
.block.sorted{background:var(--sorted);color:#fff}
.controls-row{display:flex;gap:8px;align-items:center;flex-wrap:wrap;margin-top:10px}
input[type="text"]{padding:8px;border-radius:8px;border:1px solid #cbd5e1;width:180px}
button.cta{background:var(--accent);color:#fff;border:none;padding:8px 12px;border-radius:8px;cursor:pointer}
button.ghost{background:#eef2ff;border:1px solid #e2e8f0;color:#0f172a}
.code-lines{background:#0b1220;color:#e6eef8;padding:12px;border-radius:8px;min-height:220px;overflow:auto;margin-top:12px;font-family:monospace;font-size:13px}
.code-line.active{background:rgba(253,230,138,0.14);color:#111}
.small{font-size:13px;color:#475569;margin-top:6px}
footer{
  text-align: center;
}
@media(min-width:900px){ .visualizer-area{display:flex;gap:14px} .blocks-card,.code-card{flex:1} }
</style>
</head>
<body>
<header>
  <button class="home-btn" id="homeBtn">Home</button>
  <h1>Insertion Sort Visualizer</h1>
</header>

<div class="wrap">
  <!-- Tab Buttons -->
  <div class="tab-buttons">
    <button class="tab-btn active" data-tab="overview">Overview</button>
    <button class="tab-btn" data-tab="pseudocode">Pseudocode</button>
    <button class="tab-btn" data-tab="visualizer">Visualizer</button>
  </div>

  <!-- Overview -->
  <section id="overview" class="tab active">
    <h2>Overview</h2>
    <p>Insertion Sort builds the sorted array one element at a time by inserting the current element into its correct position among previously sorted elements.</p>
    <p class="small"><strong>Complexity:</strong> Worst-case O(n²), Best-case O(n). In-place and stable.</p>
  </section>

  <!-- Pseudocode -->
  <section id="pseudocode" class="tab">
    <h2>Pseudocode</h2>
    <pre style="background:#f1f5f9;padding:12px;border-radius:8px;">
for i = 1 to n-1
  key = arr[i]
  j = i-1
  while j >= 0 and arr[j] > key
    arr[j+1] = arr[j]
    j = j-1
  arr[j+1] = key
    </pre>
  </section>

  <!-- Visualizer -->
  <section id="visualizer" class="tab">
    <h2>Visualizer</h2>
    <div class="controls-row">
      <input id="array-input" type="text" placeholder="e.g. 5,2,8,1,4">
      <button class="cta" id="set-array">Set Array</button>
      <button class="ghost" id="random-array">Random</button>
      <button class="cta" id="start-btn">Start</button>
      <button class="ghost" id="reset-btn">Reset</button>
      <label class="small">Speed:</label>
      <input type="range" id="speed" min="50" max="1000" value="400">
    </div>
    <div class="visualizer-area">
      <div class="blocks-card">
        <div class="small">i: <span id="i-val">-</span> | j: <span id="j-val">-</span> | key: <span id="key-val">-</span></div>
        <div id="blocks"></div>
        <div class="small">Compare = yellow, Move = blue, Sorted = green.</div>
      </div>
      <div class="code-card">
        <div class="code-lines" id="code-lines"></div>
      </div>
    </div>
  </section>
</div>

<script>
(() => {
  // Tabs
  const tabBtns = document.querySelectorAll('.tab-btn');
  const tabs = document.querySelectorAll('.tab');
  const homeBtn = document.getElementById('homeBtn');
  tabBtns.forEach(btn => btn.addEventListener('click', ()=>{
    const t = btn.dataset.tab;
    tabBtns.forEach(b=>b.classList.toggle('active',b===btn));
    tabs.forEach(tab=>tab.classList.toggle('active',tab.id===t));
  }));
  homeBtn.addEventListener('click', ()=> window.location.href="index.html");

  // Visualizer Elements
  const blocksEl = document.getElementById('blocks');
  const arrayInput = document.getElementById('array-input');
  const setArrayBtn = document.getElementById('set-array');
  const randomBtn = document.getElementById('random-array');
  const startBtn = document.getElementById('start-btn');
  const resetBtn = document.getElementById('reset-btn');
  const speedInput = document.getElementById('speed');
  const iVal = document.getElementById('i-val');
  const jVal = document.getElementById('j-val');
  const keyVal = document.getElementById('key-val');
  const codeLinesEl = document.getElementById('code-lines');

  let arr = [5,2,8,1,4];
  let running = false;
  let speed = Number(speedInput.value);

  const code = [
`for(i = 1; i < n; i++){`,
`  key = arr[i];`,
`  j = i-1;`,
`  while(j >=0 && arr[j] > key){`,
`    arr[j+1] = arr[j];`,
`    j--;`,
`  }`,
`  arr[j+1] = key;`,
`}`
  ];

  function renderCode(active=-1){
    codeLinesEl.innerHTML='';
    code.forEach((ln,idx)=>{
      const d=document.createElement('div');
      d.className='code-line'+(idx===active?' active':'');
      d.textContent=ln;
      codeLinesEl.appendChild(d);
    });
  }

  function renderBlocks(state){
    blocksEl.innerHTML='';
    arr.forEach((v,idx)=>{
      const b=document.createElement('div');
      b.className='block';
      if(state.sorted.includes(idx)) b.classList.add('sorted');
      if(state.compare.includes(idx)) b.classList.add('compare');
      if(state.move.includes(idx)) b.classList.add('swap');
      b.textContent=v;
      blocksEl.appendChild(b);
    });
  }

  function sleep(ms){ return new Promise(r=>setTimeout(r,ms)); }

  setArrayBtn.addEventListener('click', ()=>{
    const val = arrayInput.value.split(',').map(x=>parseInt(x.trim())).filter(x=>!isNaN(x));
    if(val.length>0){ arr=val; renderBlocks({sorted:[],compare:[],move:[]}); }
  });

  randomBtn.addEventListener('click', ()=>{
    arr = Array.from({length:6},()=>Math.floor(Math.random()*50)+1);
    renderBlocks({sorted:[],compare:[],move:[]});
  });

  speedInput.addEventListener('input',()=>speed=Number(speedInput.value));

  resetBtn.addEventListener('click', ()=>{
    running=false;
    arr=[5,2,8,1,4];
    renderBlocks({sorted:[],compare:[],move:[]});
    renderCode();
    iVal.textContent='-'; jVal.textContent='-'; keyVal.textContent='-';
  });

  async function insertionSort(){
    running=true;
    const n = arr.length;
    let sortedIndices = [];
    renderCode();
    for(let i=1;i<n;i++){
      iVal.textContent=i;
      let key = arr[i];
      keyVal.textContent=key;
      let j=i-1;

      while(j>=0 && arr[j]>key){
        jVal.textContent=j;
        renderBlocks({
          sorted:sortedIndices,
          compare:[j,i],
          move:[j+1]
        });
        renderCode(3);
        await sleep(speed);
        arr[j+1]=arr[j];
        j--;
      }
      arr[j+1]=key;
      sortedIndices = Array.from({length:i+1},(_,k)=>k); // Only finalized sorted
      renderBlocks({
        sorted:sortedIndices,
        compare:[],
        move:[j+1]
      });
      await sleep(speed);
    }
    iVal.textContent='-'; jVal.textContent='-'; keyVal.textContent='-';
    renderBlocks({sorted:Array.from({length:n},(_,k)=>k),compare:[],move:[]});
    running=false;
  }

  startBtn.addEventListener('click', ()=>{ if(!running) insertionSort(); });

  renderBlocks({sorted:[],compare:[],move:[]});
  renderCode();
})();
</script>
 <footer>
  <p>Made with ❤️ by Ngroups</p>
  <p><a href="mailto:ngroups.ng@gmail.com">If any issues mail to this email.(Click me)</a></p>
</footer>
</body>
</html>